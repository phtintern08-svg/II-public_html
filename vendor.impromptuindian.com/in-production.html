<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>In Production â€“ ImpromptuIndian Vendor</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/in-production.css">
</head>

<body class="text-white">

    <div class="flex h-screen overflow-hidden">

        <!-- SIDEBAR CONTAINER -->
        <div id="sidebar-container"></div>

        <!-- Sidebar Script -->
        <script src="js/sidebar.js"></script>

        <!-- MAIN CONTENT -->
        <main class="flex-1 overflow-y-auto p-8">

            <!-- Page Header -->
            <header class="reveal flex justify-between items-end mb-8 border-bottom border-gray-800 pb-6">
                <div class="flex items-center gap-4">
                    <a href="orders.html"
                        class="p-2 -ml-2 rounded-full hover:bg-white/10 text-gray-400 hover:text-white transition-colors group"
                        title="Back to Dashboard">
                        <i data-lucide="arrow-left" class="w-6 h-6 group-hover:-translate-x-1 transition-transform"></i>
                    </a>
                    <div>
                        <h1 class="text-3xl font-bold tracking-tight">Manufacturing Pipeline</h1>
                        <p class="text-gray-400 mt-1">Real-time status tracking for active production requisitions.</p>
                    </div>
                </div>
                <div class="header-actions flex gap-4 items-center">
                    <div class="search-bar">
                        <i data-lucide="search" class="w-4 h-4 text-gray-500"></i>
                        <input type="text" id="pipeline-search" placeholder="Search Req ID or Spec...">
                    </div>
                    <div class="view-toggle">
                        <button id="view-list" class="toggle-btn active" onclick="switchView('list')">
                            <i data-lucide="list" class="w-4 h-4"></i>
                            List
                        </button>
                        <button id="view-kanban" class="toggle-btn" onclick="switchView('kanban')">
                            <i data-lucide="columns" class="w-4 h-4"></i>
                            Pipeline
                        </button>
                    </div>
                </div>
            </header>

            <!-- Production Table View -->
            <div id="list-view" class="reveal card">
                <div class="card-header flex justify-between items-center">
                    <div>
                        <h3 class="card-title">Production Requisitions</h3>
                        <p class="card-description">High-density technical tracking</p>
                    </div>
                </div>
                <div class="p-0">
                    <div class="table-container">
                        <table class="w-full">
                            <thead>
                                <tr
                                    class="border-b border-gray-800 text-xs font-semibold text-gray-400 uppercase tracking-wider text-left bg-gray-900/50">
                                    <th class="px-6 py-4 font-medium">Req ID</th>
                                    <th class="px-6 py-4 font-medium">Technical Spec</th>
                                    <th class="px-6 py-4 font-medium">Volume</th>
                                    <th class="px-6 py-4 font-medium">Current Phase</th>
                                    <th class="px-6 py-4 font-medium">Window</th>
                                    <th class="px-6 py-4 font-medium text-right">Operations</th>
                                </tr>
                            </thead>
                            <tbody id="production-table-body">
                                <!-- Production rows will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Kanban Pipeline View -->
            <div id="kanban-view" class="reveal hidden">
                <div class="kanban-board" id="kanban-board">
                    <!-- Columns will be injected here -->
                </div>
            </div>

        </main>

    </div>

    <!-- Update Stage Modal -->
    <div id="update-modal" class="modal hidden">
        <div class="modal-overlay" onclick="closeUpdateModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-order-id">Update Production Stage</h2>
                <button class="modal-close" onclick="closeUpdateModal()">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Order Info -->
                <div class="order-info-bar" id="order-info">
                    <!-- Order info will be injected here -->
                </div>

                <!-- Production Stages -->
                <div class="stages-container">
                    <h4 class="section-title">Production Stages</h4>
                    <div class="stages-list" id="stages-list">
                        <!-- Stages will be injected here -->
                    </div>
                </div>

                <!-- Upload Photos -->
                <div class="upload-section">
                    <h4 class="section-title">Upload Progress Photos</h4>
                    <div class="upload-area" id="upload-area">
                        <i data-lucide="upload-cloud" class="w-12 h-12 text-gray-500 mb-2"></i>
                        <p class="text-sm text-gray-400 mb-2">Click to upload or drag and drop</p>
                        <p class="text-xs text-gray-500">PNG, JPG up to 10MB</p>
                        <input type="file" id="file-input" accept="image/*" multiple hidden>
                    </div>
                    <div class="uploaded-files" id="uploaded-files">
                        <!-- Uploaded files will appear here -->
                    </div>
                </div>

                <!-- Internal Notes -->
                <div class="notes-section">
                    <h4 class="section-title">Internal Notes</h4>
                    <textarea id="internal-notes" class="notes-textarea"
                        placeholder="Add notes for your production team..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeUpdateModal()">Cancel</button>
                <button class="btn-primary" onclick="saveUpdate()">
                    <i data-lucide="save" class="w-4 h-4"></i>
                    Save Update
                </button>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="toast hidden">
        <i data-lucide="check-circle" class="w-5 h-5 text-green-500"></i>
        <span id="toast-message">Update saved successfully!</span>
    </div>

    <!-- In Production Script -->
    <script src="js/in-production.js"></script>

</body>

</html>